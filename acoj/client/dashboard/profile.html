<template name="profileEditCard">
  <!-- Contents from template profileCard -->
  <!-- 1 -->
  {{> mainIcon icon="ti-user" link="/dashboard/profile/" label="Show"}}
  <span>
    {{#transition in ="fadeIn" out ="fadeOut"}}
    <div class="picture animated out"></div>
    {{/transition}}
  </span>
  <!-- 2 -->
  <div class="dash-panel profile-panel">
    {{#autoForm collection="Profiles" id="updateProfileForm" doc=thisProfile autosave=true type="update"}}
    <!--3 -->
    <!-- 3.1 -->
    <div class="cover-image">
      <div class="darken">
        <!-- 3.2 -->

        <h3 class="dash-heading "> {{> afFieldInput name="name" class="ghost-input" }} </h3>
        <p class="error">   {{#if afFieldIsInvalid name='name'}} Invalid name   {{/if}} </p>
        <p><em>{{> afFieldInput name="status" class=" ghost-input snow-white-txt content-font" }} </em> </p>
        <p class="error">   {{#if afFieldIsInvalid name='status'}} Invalid status  {{/if}} </p>
      </div>
    </div>

    <!-- 4 -->
    <div class="inside-paper padded">
      <h4 class="content-font"> <em> Bio </em> </h4>
      <p class="error">   {{#if afFieldIsInvalid name='bio'}} Invalid entry in bio  {{/if}} </p>
      {{> afFieldInput name="bio" type="textarea" class=" bio content-font " }}
      <p class="error">{{#if afFieldIsInvalid name='location'}} Invalid entry in location {{/if}} </p>
      {{> afFieldInput name="location" }}
    </div>
    <!-- /4 -->

    <!-- 5. Profile footer -->
    <div class="profile-footer">
      <!-- 5.1 First panel -->
      <div class="quad-panel">
        <i class="footer-icon ti-location-pin"></i>
        <p> Country: </p>
        <p class="error">   {{#if afFieldIsInvalid name='country'}} Name should have at-least 5 letters  {{/if}} </p>
        {{> afFieldInput name="country" type="select" options="allowed"}}
      </div>

      <!-- 5.2 Second panel -->
      <div class="quad-panel quad-mid-panel">
        <i class="ti-email footer-icon"></i>
        {{thisProfile.email}}
      </div>

      <!-- 5.3 Third panel -->
      <div class="quad-panel">
        <i class="ti-gift footer-icon"></i>
        <p>Born:</p>
        <p class="error">{{#if afFieldIsInvalid name='birthday'}} Invalid entry in birth date {{/if}} </p>
        {{> afFieldInput name="birthday"  class="ghost-input"}}
      </div>

      <!-- 5.4 Fourth panel -->
      <div class="quad-panel quad-last-panel">
        <i class="ti-heart footer-icon"></i>
        Member Since:
        {{showDate thisProfile.createdAt 'year'}}
      </div>
    </div>
    <!-- /5 -->

    {{/autoForm}}
  </div>
</template>

<Template name="profileCard">
  <!-- 1. Profile picture at top -->
  {{> mainIcon icon="ti-pencil" label="Edit" link="/dashboard/profile/edit"}}
  <span>
    {{#transition in ="fadeIn" out ="fadeOut"}}
    <div class="picture animated out"></div>
    {{/transition}}
  </span>

  <!-- 2. The white background card area -->
  <div class="dash-panel profile-panel">

    <!-- 3. The cover image -->
    <!-- 3.1 Cover image background and overlay -->
    <div class="cover-image">
      <div class="darken">
        <!-- 3.2 Title and status inside cover image -->
        <h3 class="dash-heading">{{ thisProfile.name }}</h3>
        <p class="snow-white-txt content-font"><em> {{ thisProfile.status }} </em> </p>
      </div>
    </div>
    <!-- /3 -->

    <!-- 4. The About me part with serif text -->
    <div class="inside-paper padded">
      <p class="bio content-font">
        {{ thisProfile.bio }}
      </p>
    </div>
    <!-- /4 -->

    <!-- 5. Profile footer -->
    <div class="profile-footer">
      <!-- 5.1 First panel -->
      <div class="quad-panel">
        <i class="footer-icon ti-location-pin"></i>
        <p>{{thisProfile.country}}</p>
      </div>

      <!-- 5.2 Second panel -->
      <div class="quad-panel quad-mid-panel">
        <i class="ti-email footer-icon"></i>
        <p>{{thisProfile.email}}</p>
      </div>

      <!-- 5.3 Third panel -->
      <div class="quad-panel">
        <i class="ti-gift footer-icon"></i>
        <p>Born:
        {{showDate thisProfile.birthday 'day'}}
        {{showDate thisProfile.birthday 'month'}}</p>
      </div>

      <!-- 5.4 Fourth panel -->
      <div class="quad-panel quad-last-panel">
        <i class="ti-heart footer-icon"></i>
        <p>Member Since:
        {{showDate thisProfile.createdAt 'year'}}</p>
      </div>

    </div>
    <!-- /5 -->

  </div>
  <!-- /2 -->
</template>
